{% extends 'base.html' %}
{% block content %}
  <h2>Habitación {{ object.number }}</h2>
  <p>{{ object.description }}</p>
  <p>Camas: {{ object.beds }}</p>

  <h3>Ocupantes</h3>
  <ul>
    {% for occ in object.occupants.all %}
      <li>{{ occ.first_name }} {{ occ.last_name }} - <a href="{% url 'room-remove-client' object.pk occ.pk %}">Quitar</a></li>
    {% empty %}
      <li>No hay ocupantes.</li>
    {% endfor %}
  </ul>

  <h4>Añadir cliente a la habitación</h4>
  <form method="post" action="{% url 'room-assign-client' object.pk %}">{% csrf_token %}
    <select name="client">
      {% for client in clients %}
        <option value="{{ client.pk }}">{{ client.first_name }} {{ client.last_name }}</option>
      {% endfor %}
    </select>
    <button type="submit">Asignar</button>
  </form>

  <p><a href="{% url 'room-edit' object.pk %}">Editar</a> | <a href="{% url 'room-delete' object.pk %}">Eliminar</a></p>
  <p><a href="{% url 'room-list' %}">Volver</a></p>
{% endblock %}
